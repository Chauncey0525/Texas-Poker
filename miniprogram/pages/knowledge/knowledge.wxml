<!--pages/knowledge/knowledge.wxml-->
<view class="container">
  <view class="search-section card">
    <input 
      class="search-input" 
      placeholder="æœç´¢æ–‡ç« ..." 
      value="{{searchKeyword}}"
      bindinput="onSearch"
    />
  </view>

  <view class="categories-section card">
    <view class="title">åˆ†ç±»</view>
    <view class="categories-grid">
      <view 
        class="category-item {{selectedCategory === item.id ? 'active' : ''}}"
        wx:for="{{categories}}" 
        wx:key="id"
        data-category="{{item.id}}"
        bindtap="selectCategory"
      >
        <text class="category-icon">{{item.icon}}</text>
        <text class="category-name">{{item.name}}</text>
      </view>
    </view>
  </view>

  <view class="articles-section">
    <view class="title">æ–‡ç« åˆ—è¡¨ ({{filteredArticles.length}})</view>
    <view wx:if="{{filteredArticles.length === 0}}" class="empty-state">
      <view class="empty-state-icon">ğŸ“š</view>
      <view class="empty-state-text">æš‚æ— æ–‡ç« </view>
      <view class="empty-state-desc" wx:if="{{searchKeyword}}">å°è¯•å…¶ä»–å…³é”®è¯æœç´¢</view>
    </view>
    <view wx:else class="articles-list">
      <view 
        class="article-item card fade-in"
        wx:for="{{filteredArticles}}"
        wx:key="id"
        wx:for-item="article"
        data-id="{{article.id}}"
        bindtap="viewArticle"
      >
        <view class="article-title">{{article.title}}</view>
        <view class="article-summary">{{article.summary}}</view>
        <view class="article-meta">
          <text class="article-category">{{article.categoryName}}</text>
          <text class="article-date">{{article.date}}</text>
        </view>
      </view>
    </view>
  </view>
</view>
